# do not edit this file, it will be overwritten on update

ACTION=="remove", GOTO="net_name_slot_end"
SUBSYSTEM!="net", GOTO="net_name_slot_end"
NAME!="", GOTO="net_name_slot_end"

IMPORT{cmdline}="net.ifnames"
ENV{net.ifnames}=="0", GOTO="net_name_slot_end"

# Workaround for resolving too long ID_NET_NAME_ONBOARD issue on VMware ( #LP1543378)
ENV{ID_NET_NAME_ONBOARD}=="eno????????*", GOTO="net_name_onboard_end"
NAME=="", ENV{ID_NET_NAME_ONBOARD}!="", NAME="$env{ID_NET_NAME_ONBOARD}"
LABEL="net_name_onboard_end"

NAME=="", ENV{ID_NET_NAME_SLOT}!="", NAME="$env{ID_NET_NAME_SLOT}"
NAME=="", ENV{ID_NET_NAME_PATH}!="", NAME="$env{ID_NET_NAME_PATH}"

ENV{DEVTYPE}=="fcoe", ENV{ID_NET_NAME_PATH}!="", NAME="$env{ID_NET_NAME_PATH}"

LABEL="net_name_slot_end"

#
# Some types of multiport network cards report identical SLOT/PATH for each port.
# Hence, only the first interface gets correct name, any other interface on such
# cards can't be renamed properly and gets name "renameX".
# This hack allow us to rename such interfaces according to scheme "ensSpI"
NAME=="rename*", ENV{ID_NET_NAME_SLOT}!="", ENV{IFINDEX}!="", NAME="$env{ID_NET_NAME_SLOT}p$env{IFINDEX}"
